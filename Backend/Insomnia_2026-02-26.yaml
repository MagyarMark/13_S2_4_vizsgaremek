type: collection.insomnia.rest/5.0
schema_version: "5.1"
name: SM Backend API
meta:
  id: wrk_90087fdc95484f12a67fe69a156306bb
  created: 1772144509911
  modified: 1772144509911
  description: ""
collection:
  - name: 5. Health
    meta:
      id: fld_da5cacad6fe1455fba68e103aec10eb7
      created: 1771932755579
      modified: 1772144535622
      sortKey: -1771932755579
      description: Health check endpoint
    children:
      - url: "{{ _.base_url }}/api/health"
        name: Health Check
        meta:
          id: req_209dc08421554becaffa085c8484454f
          created: 1771932755578
          modified: 1771932755578
          isPrivate: false
          description: ""
          sortKey: -1771932755578
        method: GET
        scripts:
          afterResponse: |-
            const body = insomnia.response.json();

            insomnia.test('200-as státusz', () => {
              insomnia.expect(insomnia.response.code).to.equal(200);
            });

            insomnia.test('Health ellenőrzés sikeres', () => {
              insomnia.expect(body).to.have.property('success', true);
              insomnia.expect(body).to.have.property('timestamp');
            });
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
  - name: 9. Deletes
    meta:
      id: fld_05cbdaf3b9de4bf493304f85e6dc994e
      created: 1771932755580
      modified: 1772144535584
      sortKey: -1771932755580
      description: Delete endpoints (run last)
    children:
      - url: "{{ _.base_url }}/api/project/projektDel/{{ _.project_id }}"
        name: Delete Project
        meta:
          id: req_536c1e5f9a0a43d0816601e55309f61d
          created: 1771932755577
          modified: 1771932755577
          isPrivate: false
          description: ""
          sortKey: -1771932755577
        method: DELETE
        headers:
          - name: Authorization
            value: Bearer {{ _.access_token }}
        scripts:
          afterResponse: |-
            const body = insomnia.response.json();

            insomnia.test('200-as státusz', () => {
              insomnia.expect(insomnia.response.code).to.equal(200);
            });

            insomnia.test('Projekt sikeresen törölve', () => {
              insomnia.expect(body).to.have.property('success', true);
            });
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _.base_url }}/api/files/{{ _.file_id }}"
        name: Delete File
        meta:
          id: req_c1ae07acb2d642228003540312a58b99
          created: 1771932755582
          modified: 1772133862088
          isPrivate: false
          description: ""
          sortKey: -1771932755582
        method: DELETE
        headers:
          - name: Authorization
            value: Bearer {{ _.access_token }}
        scripts:
          afterResponse: |-
            const body = insomnia.response.json();
            const fileId = insomnia.environment.get('file_id');

            if (!fileId) {
              insomnia.test('404-es státusz a file_id hiánya esetén', () => {
                insomnia.expect(insomnia.response.code).to.equal(404);
              });
            } else {
              insomnia.test('200-as státusz', () => {
                insomnia.expect(insomnia.response.code).to.equal(200);
              });

              insomnia.test('File törölve', () => {
                insomnia.expect(body).to.have.property('success', true);
              });
            }
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _.base_url }}/api/messages/torles/{{ _.message_id }}"
        name: Delete Message
        meta:
          id: req_0d011d800d1b46d190b6e0f7d604d19f
          created: 1771932755594
          modified: 1772134138648
          isPrivate: false
          description: ""
          sortKey: -1771932755594
        method: DELETE
        headers:
          - name: Authorization
            value: Bearer {{ _.access_token }}
        scripts:
          afterResponse: |-
            const body = insomnia.response.json();

            insomnia.test('200-as státusz', () => {
              insomnia.expect(insomnia.response.code).to.equal(200);
            });

            insomnia.test('Üzenet törölve', () => {
              insomnia.expect(body).to.have.property('success', true);
            });
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _.base_url }}/api/project/naplo/{{ _.naplo_id }}"
        name: Delete Log Entry
        meta:
          id: req_afdea572cb4949b08013066c0286000c
          created: 1771932755602
          modified: 1771932755602
          isPrivate: false
          description: ""
          sortKey: -1771932755602
        method: DELETE
        headers:
          - name: Authorization
            value: Bearer {{ _.access_token }}
        scripts:
          afterResponse: |-
            const body = insomnia.response.json();

            insomnia.test('200-as státusz', () => {
              insomnia.expect(insomnia.response.code).to.equal(200);
            });

            insomnia.test('Napló törölve', () => {
              insomnia.expect(body).to.have.property('success', true);
            });
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _.base_url }}/api/project/statisztika/{{ _.stat_id }}"
        name: Delete Statistic
        meta:
          id: req_9c91eefde292407688b8354845ed3b77
          created: 1771932755608
          modified: 1771932755608
          isPrivate: false
          description: ""
          sortKey: -1771932755608
        method: DELETE
        headers:
          - name: Authorization
            value: Bearer {{ _.access_token }}
        scripts:
          afterResponse: |-
            const body = insomnia.response.json();

            insomnia.test('200-as státusz', () => {
              insomnia.expect(insomnia.response.code).to.equal(200);
            });

            insomnia.test('Statisztika törölve', () => {
              insomnia.expect(body).to.have.property('success', true);
            });
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _.base_url }}/api/project/feladatKomment/{{ _.comment_id }}"
        name: Delete Task Comment
        meta:
          id: req_3e357c1b55ff448d97870c98e71acc65
          created: 1771932755614
          modified: 1771932765202
          isPrivate: false
          description: ""
          sortKey: -1771932755621
        method: DELETE
        headers:
          - name: Authorization
            value: Bearer {{ _.access_token }}
        scripts:
          afterResponse: |-
            const body = insomnia.response.json();

            insomnia.test('200-as státusz', () => {
              insomnia.expect(insomnia.response.code).to.equal(200);
            });

            insomnia.test('Komment törölve', () => {
              insomnia.expect(body).to.have.property('success', true);
            });
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _.base_url }}/api/project/feladat/{{ _.task_id }}"
        name: Delete Task
        meta:
          id: req_db87d8171df2455b8f5f7d6452f9ef09
          created: 1771932755618
          modified: 1771932755618
          isPrivate: false
          description: ""
          sortKey: -1771932755618
        method: DELETE
        headers:
          - name: Authorization
            value: Bearer {{ _.access_token }}
        scripts:
          afterResponse: |-
            const body = insomnia.response.json();

            insomnia.test('200-as státusz', () => {
              insomnia.expect(insomnia.response.code).to.equal(200);
            });

            insomnia.test('Feladat sikeresen törölve', () => {
              insomnia.expect(body).to.have.property('success', true);
            });
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _.base_url }}/api/project/ProjektTag"
        name: Remove Project Member
        meta:
          id: req_425ff55393fc4313b7e9f618d6734b65
          created: 1771932755624
          modified: 1771932755624
          isPrivate: false
          description: ""
          sortKey: -1771932755624
        method: DELETE
        body:
          mimeType: application/json
          text: |-
            {
              "projekt_id": "{{ _.project_id }}",
              "felhasznalo_id": "{{ _.user_id }}"
            }
        headers:
          - name: Authorization
            value: Bearer {{ _.access_token }}
          - name: Content-Type
            value: application/json
        scripts:
          afterResponse: |-
            const body = insomnia.response.json();

            insomnia.test('200-as státusz', () => {
              insomnia.expect(insomnia.response.code).to.equal(200);
            });

            insomnia.test('Projekt tag eltávolítva', () => {
              insomnia.expect(body).to.have.property('success', true);
            });
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _.base_url }}/api/auth/profile-torles"
        name: Delete Profile (Soft Delete)
        meta:
          id: req_347686875b004d7680f2df3fe15a85ae
          created: 1771932755625
          modified: 1771932755625
          isPrivate: false
          description: ""
          sortKey: -1771932755625
        method: PUT
        headers:
          - name: Authorization
            value: Bearer {{ _.access_token }}
        scripts:
          afterResponse: |-
            const body = insomnia.response.json();

            insomnia.test('200-as státusz', () => {
              insomnia.expect(insomnia.response.code).to.equal(200);
            });

            insomnia.test('Profil töröltként megjelölve', () => {
              insomnia.expect(body).to.have.property('success', true);
              insomnia.expect(body.message).to.include('törölve');
            });
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
  - name: 4. Files
    meta:
      id: fld_1829d44c3ef34f01a88f709d341dbc28
      created: 1771932755593
      modified: 1772144535133
      sortKey: -1771932755593
      description: File upload and submission management
    children:
      - url: "{{ _.base_url }}/api/files/beadas/{{ _.beadas_id }}/statusz"
        name: Update Submission Status
        meta:
          id: req_f62b513aef8f40129505d517652b634b
          created: 1771932755584
          modified: 1771932755584
          isPrivate: false
          description: ""
          sortKey: -1771932755584
        method: PATCH
        body:
          text: |-
            {
              "statusz": "értékelt"
            }
        headers:
          - name: Authorization
            value: Bearer {{ _.access_token }}
          - name: Content-Type
            value: application/json
        scripts:
          afterResponse: |-
            const body = insomnia.response.json();

            insomnia.test('200-as státusz', () => {
              insomnia.expect(insomnia.response.code).to.equal(200);
            });

            insomnia.test('Beadás státusza frissítve', () => {
              insomnia.expect(body).to.have.property('success', true);
              insomnia.expect(body.data.beadas.statusz).to.equal('értékelt');
            });
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _.base_url }}/api/files/beadas/{{ _.beadas_id }}"
        name: Update Submission
        meta:
          id: req_8fff90a7c7bd4f5e86033473e7345ac5
          created: 1771932755586
          modified: 1771932755586
          isPrivate: false
          description: ""
          sortKey: -1771932755586
        method: PUT
        body:
          mimeType: application/json
          text: |-
            {
              "visszajelzes": "Frissített beadási megjegyzés"
            }
        headers:
          - name: Authorization
            value: Bearer {{ _.access_token }}
          - name: Content-Type
            value: application/json
        scripts:
          afterResponse: >-
            const body = insomnia.response.json();


            insomnia.test('200-as státusz', () => {
              insomnia.expect(insomnia.response.code).to.equal(200);
            });


            insomnia.test('Beadás frissítve', () => {
              insomnia.expect(body).to.have.property('success', true);
              insomnia.expect(body.data.beadas.visszajelzes).to.equal('Frissített beadási megjegyzés');
            });
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _.base_url }}/api/files/beadas/{{ _.beadas_id }}"
        name: Get Single Submission
        meta:
          id: req_77313ce62fa34d9ca5899f60d7dbd7f8
          created: 1771932755588
          modified: 1771932755588
          isPrivate: false
          description: ""
          sortKey: -1771932755588
        method: GET
        headers:
          - name: Authorization
            value: Bearer {{ _.access_token }}
        scripts:
          afterResponse: |-
            const body = insomnia.response.json();

            insomnia.test('200-as státusz', () => {
              insomnia.expect(insomnia.response.code).to.equal(200);
            });

            insomnia.test('Beadás adatai visszakülve', () => {
              insomnia.expect(body).to.have.property('success', true);
              insomnia.expect(body.data).to.have.property('files');
              insomnia.expect(body.data.files).to.be.an('array');
            });
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _.base_url }}/api/files/beadas"
        name: Get All Submissions
        meta:
          id: req_93a748b3f0bf40e4ab3b1bf7337bc174
          created: 1771932755589
          modified: 1771932755589
          isPrivate: false
          description: ""
          sortKey: -1771932755589
        method: GET
        headers:
          - name: Authorization
            value: Bearer {{ _.access_token }}
        scripts:
          afterResponse: >-
            const body = insomnia.response.json();


            insomnia.test('200-as státusz', () => {
              insomnia.expect(insomnia.response.code).to.equal(200);
            });


            insomnia.test('Beadások listája visszakülve', () => {
              insomnia.expect(body).to.have.property('success', true);
              insomnia.expect(body.data).to.have.property('beadasList');
              insomnia.expect(body.data.beadasList).to.be.an('array');
            });


            const existingBeadasId = insomnia.environment.get('beadas_id');

            if (!existingBeadasId && body.data.beadasList &&
            body.data.beadasList.length > 0) {
              insomnia.environment.set('beadas_id', body.data.beadasList[0].id);
            }
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _.base_url }}/api/files/beadas"
        name: Create Submission
        meta:
          id: req_1ebbca50d9024d43883373a87352ea77
          created: 1771932755591
          modified: 1772133353470
          isPrivate: false
          description: ""
          sortKey: -1771932755591
        method: POST
        body:
          mimeType: application/json
          text: |-
            {
              "feladat_id": "{{ _.task_id }}",
              "felhasznalo_id": "{{ _.user_id }}",
              "tanar_id": "{{ _.user_id }}",
              "pontszam": 0,
              "jegy": 1,
              "statusz": "beadva",
              "visszajelzes": "Teszt beadás"
            }
        headers:
          - name: Authorization
            value: Bearer {{ _.access_token }}
          - name: Content-Type
            value: application/json
        scripts:
          afterResponse: |-
            const body = insomnia.response.json();

            insomnia.test('201-es státusz', () => {
              insomnia.expect(insomnia.response.code).to.equal(201);
            });

            insomnia.test('Beadás létrehozva', () => {
              insomnia.expect(body).to.have.property('success', true);
              insomnia.expect(body.data).to.have.property('beadas');
              insomnia.expect(body.data.beadas).to.have.property('id');
            });

            if (body.success && body.data && body.data.beadas) {
              insomnia.environment.set('beadas_id', body.data.beadas.id);
            }
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _.base_url }}/api/files/feltoltesek"
        name: Get Upload History
        meta:
          id: req_d4767e74e1214ab7b46f82d01544eff9
          created: 1771932755592
          modified: 1771932755592
          isPrivate: false
          description: ""
          sortKey: -1771932755592
        method: GET
        headers:
          - name: Authorization
            value: Bearer {{ _.access_token }}
        scripts:
          afterResponse: |-
            const body = insomnia.response.json();

            insomnia.test('200-as státusz', () => {
              insomnia.expect(insomnia.response.code).to.equal(200);
            });

            insomnia.test('Feltöltési előzmények visszakülve', () => {
              insomnia.expect(body).to.have.property('success', true);
              insomnia.expect(body.data).to.have.property('uploads');
              insomnia.expect(body.data.uploads).to.be.an('array');
            });
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
  - name: 3. Messages
    meta:
      id: fld_ae11508b84b74117bcfdae96dbc7e3ca
      created: 1771932755601
      modified: 1772144534786
      sortKey: -1771932755601
      description: Messaging endpoints
    children:
      - url: "{{ _.base_url }}/api/messages/frissites/{{ _.message_id }}"
        name: Update Message Status
        meta:
          id: req_dbc428d67d614e56a774df0204d04793
          created: 1771932755596
          modified: 1771932755596
          isPrivate: false
          description: ""
          sortKey: -1771932755596
        method: PUT
        body:
          mimeType: application/json
          text: |-
            {
              "allapot": "olvasott"
            }
        headers:
          - name: Authorization
            value: Bearer {{ _.access_token }}
          - name: Content-Type
            value: application/json
        scripts:
          afterResponse: |-
            const body = insomnia.response.json();

            insomnia.test('200-as státusz', () => {
              insomnia.expect(insomnia.response.code).to.equal(200);
            });

            insomnia.test('Üzenet státusza frissítve', () => {
              insomnia.expect(body).to.have.property('success', true);
              insomnia.expect(body.data.allapot).to.equal('olvasott');
            });
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _.base_url }}/api/messages/kuldes"
        name: Send Message
        meta:
          id: req_b0c8280bad464c9b8add288a1646f07c
          created: 1771932755597
          modified: 1771932755597
          isPrivate: false
          description: ""
          sortKey: -1771932755597
        method: POST
        body:
          mimeType: application/json
          text: |-
            {
              "projekt_id": "{{ _.project_id }}",
              "uzenet_tartalom": "Teszt üzenet tartalom"
            }
        headers:
          - name: Authorization
            value: Bearer {{ _.access_token }}
          - name: Content-Type
            value: application/json
        scripts:
          afterResponse: >-
            const body = insomnia.response.json();


            insomnia.test('201-es státusz', () => {
              insomnia.expect(insomnia.response.code).to.equal(201);
            });


            insomnia.test('Üzenet sikeresen elküldve', () => {
              insomnia.expect(body).to.have.property('success', true);
              insomnia.expect(body.data).to.have.property('id');
              insomnia.expect(body.data.uzenet_tartalom).to.equal('Teszt üzenet tartalom');
            });


            if (body.success && body.data && body.data.id) {
              insomnia.environment.set('message_id', body.data.id);
            }
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _.base_url }}/api/messages/beszelgetes?with={{ _.user_id
          }}&projektId={{ _.project_id }}"
        name: Get Conversation
        meta:
          id: req_3d11e8100c7a4e00a851aaababd2b891
          created: 1771932755599
          modified: 1772132908277
          isPrivate: false
          description: ""
          sortKey: -1771932755599
        method: GET
        headers:
          - name: Authorization
            value: Bearer {{ _.access_token }}
        scripts:
          afterResponse: |-
            const body = insomnia.response.json();

            insomnia.test('200-as státusz', () => {
              insomnia.expect(insomnia.response.code).to.equal(200);
            });

            insomnia.test('Beszélgetés adatai visszakülve', () => {
              insomnia.expect(body).to.have.property('success', true);
              insomnia.expect(body.data).to.have.property('messages');
              insomnia.expect(body.data.messages).to.be.an('array');
            });
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _.base_url }}/api/messages/osszes"
        name: Get All Messages
        meta:
          id: req_b8724057aee7475ab50ee99b3c6399cc
          created: 1771932755600
          modified: 1771932755600
          isPrivate: false
          description: ""
          sortKey: -1771932755600
        method: GET
        headers:
          - name: Authorization
            value: Bearer {{ _.access_token }}
        scripts:
          afterResponse: |-
            const body = insomnia.response.json();

            insomnia.test('200-as státusz', () => {
              insomnia.expect(insomnia.response.code).to.equal(200);
            });

            insomnia.test('Üzenetek listája visszakülve', () => {
              insomnia.expect(body).to.have.property('success', true);
              insomnia.expect(body.data).to.have.property('messages');
              insomnia.expect(body.data.messages).to.be.an('array');
            });
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
  - name: 2. Projects
    meta:
      id: fld_e7db8b30f1a649eaba3fdf77192a47b1
      created: 1771932755633
      modified: 1772144534570
      sortKey: -1771932755633
      description: Project management endpoints
    children:
      - url: "{{ _.base_url }}/api/project/projekt/{{ _.project_id }}"
        name: Update Project
        meta:
          id: req_943bf32dd1c245f08d509ca64a920f87
          created: 1771932755630
          modified: 1771932755630
          isPrivate: false
          description: ""
          sortKey: -1771932755630
        method: PUT
        body:
          mimeType: application/json
          text: |-
            {
              "projekt_nev": "Frissített Teszt Projekt",
              "leiras": "Frissített leírás",
              "statusz": "inaktiv"
            }
        headers:
          - name: Authorization
            value: Bearer {{ _.access_token }}
          - name: Content-Type
            value: application/json
        scripts:
          afterResponse: >-
            const body = insomnia.response.json();


            insomnia.test('200-as státusz', () => {
              insomnia.expect(insomnia.response.code).to.equal(200);
            });


            insomnia.test('Projekt sikeresen frissítve', () => {
              insomnia.expect(body).to.have.property('success', true);
              insomnia.expect(body.data.project.projekt_nev).to.equal('Frissített Teszt Projekt');
              insomnia.expect(body.data.project.statusz).to.equal('inaktiv');
            });
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _.base_url }}/api/project/ujProjekt"
        name: Create Project
        meta:
          id: req_d3e9d34705e14c96995405550ffc22fb
          created: 1771932755631
          modified: 1771932755631
          isPrivate: false
          description: ""
          sortKey: -1771932755631
        method: POST
        body:
          mimeType: application/json
          text: |-
            {
              "projekt_nev": "Teszt Projekt {{ _.timestamp }}",
              "leiras": "Ez egy teszt projekt az API teszteléshez",
              "statusz": "aktiv",
              "hatarido": "2026-12-31"
            }
        headers:
          - name: Authorization
            value: Bearer {{ _.access_token }}
          - name: Content-Type
            value: application/json
        scripts:
          preRequest: insomnia.environment.set('timestamp', Date.now().toString());
          afterResponse: |-
            const body = insomnia.response.json();

            insomnia.test('201-es státusz', () => {
              insomnia.expect(insomnia.response.code).to.equal(201);
            });

            insomnia.test('Projekt sikeresen létrehozva', () => {
              insomnia.expect(body).to.have.property('success', true);
              insomnia.expect(body.data).to.have.property('project');
              insomnia.expect(body.data.project).to.have.property('id');
              insomnia.expect(body.data.project.statusz).to.equal('aktiv');
            });

            if (body.success && body.data && body.data.project) {
              insomnia.environment.set('project_id', body.data.project.id);
            }
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _.base_url }}/api/project/projektek"
        name: Get All Projects
        meta:
          id: req_3d8cc5aad8db497d86f9094c37d31d89
          created: 1771932755632
          modified: 1771932755632
          isPrivate: false
          description: ""
          sortKey: -1771932755632
        method: GET
        headers:
          - name: Authorization
            value: Bearer {{ _.access_token }}
        scripts:
          afterResponse: |-
            const body = insomnia.response.json();

            insomnia.test('200-as státusz', () => {
              insomnia.expect(insomnia.response.code).to.equal(200);
            });

            insomnia.test('Válasz tartalmazza a projektek listáját', () => {
              insomnia.expect(body.data).to.have.property('projects');
              insomnia.expect(body.data.projects).to.be.an('array');
              insomnia.expect(body.data).to.have.property('count');
            });

            if (body.data.projects.length > 0) {
              const project = body.data.projects[0];
              insomnia.test('Projekt tartalmazza a kötelező mezőket', () => {
                insomnia.expect(project).to.have.property('id');
                insomnia.expect(project).to.have.property('projekt_nev');
              });
              insomnia.environment.set('project_id', project.id);
            }
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - name: Logs (Napló)
        meta:
          id: fld_d6556c7f982b4e94904e92e9f8c5e5e6
          created: 1771932755607
          modified: 1772144534570
          sortKey: -1771932755607
          description: Project log endpoints
        children:
          - url: "{{ _.base_url }}/api/project/naplo/{{ _.naplo_id }}"
            name: Update Log Entry
            meta:
              id: req_f631080451ba4a38ae7894415caa1d17
              created: 1771932755603
              modified: 1771932755603
              isPrivate: false
              description: ""
              sortKey: -1771932755603
            method: PUT
            body:
              mimeType: application/json
              text: |-
                {
                  "muvelet": "Frissített napló bejegyzés szöveg"
                }
            headers:
              - name: Authorization
                value: Bearer {{ _.access_token }}
              - name: Content-Type
                value: application/json
            scripts:
              afterResponse: >-
                const body = insomnia.response.json();


                insomnia.test('200-as státusz', () => {
                  insomnia.expect(insomnia.response.code).to.equal(200);
                });


                insomnia.test('Napló frissítve', () => {
                  insomnia.expect(body).to.have.property('success', true);
                  insomnia.expect(body.data.log.muvelet).to.equal('Frissített napló bejegyzés szöveg');
                });
            settings:
              renderRequestBody: true
              encodeUrl: true
              followRedirects: global
              cookies:
                send: true
                store: true
              rebuildPath: true
          - url: "{{ _.base_url }}/api/project/ujNaplo"
            name: Create Log Entry
            meta:
              id: req_249b9d8289904705a2f9e1d6faae6b0e
              created: 1771932755604
              modified: 1771932755604
              isPrivate: false
              description: ""
              sortKey: -1771932755604
            method: POST
            body:
              mimeType: application/json
              text: |-
                {
                  "projekt_id": "{{ _.project_id }}",
                  "muvelet": "Teszt napló bejegyzés a projekthez",
                  "leiras": "2026-02-24"
                }
            headers:
              - name: Authorization
                value: Bearer {{ _.access_token }}
              - name: Content-Type
                value: application/json
            scripts:
              afterResponse: |-
                const body = insomnia.response.json();

                insomnia.test('201-es státusz', () => {
                  insomnia.expect(insomnia.response.code).to.equal(201);
                });

                insomnia.test('Napló létrehozva', () => {
                  insomnia.expect(body).to.have.property('success', true);
                  insomnia.expect(body.data).to.have.property('log');
                  insomnia.expect(body.data.log).to.have.property('id');
                });

                if (body.success && body.data && body.data.log) {
                  insomnia.environment.set('naplo_id', body.data.log.id);
                }
            settings:
              renderRequestBody: true
              encodeUrl: true
              followRedirects: global
              cookies:
                send: true
                store: true
              rebuildPath: true
          - url: "{{ _.base_url }}/api/project/naplo?projekt_id={{ _.project_id }}"
            name: Get All Logs
            meta:
              id: req_0e60d6b7e9734bfea7c0bb3fc24cb4c1
              created: 1771932755606
              modified: 1771932755606
              isPrivate: false
              description: ""
              sortKey: -1771932755606
            method: GET
            headers:
              - name: Authorization
                value: Bearer {{ _.access_token }}
            scripts:
              afterResponse: |-
                const body = insomnia.response.json();

                insomnia.test('200-as státusz', () => {
                  insomnia.expect(insomnia.response.code).to.equal(200);
                });

                insomnia.test('Naplók listája visszakülve', () => {
                  insomnia.expect(body).to.have.property('success', true);
                  insomnia.expect(body.data).to.have.property('logs');
                  insomnia.expect(body.data.logs).to.be.an('array');
                });
            settings:
              renderRequestBody: true
              encodeUrl: true
              followRedirects: global
              cookies:
                send: true
                store: true
              rebuildPath: true
      - name: Statistics
        meta:
          id: fld_cc565d5a16d541daa48a1b5f44a7081a
          created: 1771932755613
          modified: 1772144534363
          sortKey: -1771932755613
          description: Project statistics endpoints
        children:
          - url: "{{ _.base_url }}/api/project/statisztika/{{ _.stat_id }}"
            name: Update Statistic
            meta:
              id: req_ebbc76ca676943758fffe225f50244d5
              created: 1771932755609
              modified: 1771932755609
              isPrivate: false
              description: ""
              sortKey: -1771932755609
            method: PUT
            body:
              mimeType: application/json
              text: |-
                {
                  "statisztika_nev": "Frissített Métér",
                  "ertek": 150
                }
            headers:
              - name: Authorization
                value: Bearer {{ _.access_token }}
              - name: Content-Type
                value: application/json
            scripts:
              afterResponse: >-
                const body = insomnia.response.json();


                insomnia.test('200-as státusz', () => {
                  insomnia.expect(insomnia.response.code).to.equal(200);
                });


                insomnia.test('Statisztika frissítve', () => {
                  insomnia.expect(body).to.have.property('success', true);
                  insomnia.expect(body.data.statistics.statisztika_nev).to.equal('Frissített Métér');
                  insomnia.expect(body.data.statistics.ertek).to.equal(150);
                });
            settings:
              renderRequestBody: true
              encodeUrl: true
              followRedirects: global
              cookies:
                send: true
                store: true
              rebuildPath: true
          - url: "{{ _.base_url }}/api/project/statisztika/projekt/{{ _.project_id }}"
            name: Get Statistics by Project
            meta:
              id: req_0aa988207a074ba49593f85e448ae509
              created: 1771932755610
              modified: 1771932755610
              isPrivate: false
              description: ""
              sortKey: -1771932755610
            method: GET
            headers:
              - name: Authorization
                value: Bearer {{ _.access_token }}
            scripts:
              afterResponse: |-
                const body = insomnia.response.json();

                insomnia.test('200-as státusz', () => {
                  insomnia.expect(insomnia.response.code).to.equal(200);
                });

                insomnia.test('Projekt statisztikák visszakülve', () => {
                  insomnia.expect(body).to.have.property('success', true);
                  insomnia.expect(body.data).to.have.property('statistics');
                  insomnia.expect(body.data.statistics).to.be.an('array');
                });
            settings:
              renderRequestBody: true
              encodeUrl: true
              followRedirects: global
              cookies:
                send: true
                store: true
              rebuildPath: true
          - url: "{{ _.base_url }}/api/project/statisztika"
            name: Get All Statistics
            meta:
              id: req_19de8f1dbaed45e981c7fbce9edc58ae
              created: 1771932755611
              modified: 1771932755611
              isPrivate: false
              description: ""
              sortKey: -1771932755611
            method: GET
            headers:
              - name: Authorization
                value: Bearer {{ _.access_token }}
            scripts:
              afterResponse: |-
                const body = insomnia.response.json();

                insomnia.test('200-as státusz', () => {
                  insomnia.expect(insomnia.response.code).to.equal(200);
                });

                insomnia.test('Statisztikák listája visszakülve', () => {
                  insomnia.expect(body).to.have.property('success', true);
                  insomnia.expect(body.data).to.have.property('statistics');
                  insomnia.expect(body.data.statistics).to.be.an('array');
                });
            settings:
              renderRequestBody: true
              encodeUrl: true
              followRedirects: global
              cookies:
                send: true
                store: true
              rebuildPath: true
          - url: "{{ _.base_url }}/api/project/ujStat"
            name: Create Statistic
            meta:
              id: req_d1d562db31464cce857fafeca5cb5fb4
              created: 1771932755612
              modified: 1771932755612
              isPrivate: false
              description: ""
              sortKey: -1771932755612
            method: POST
            body:
              mimeType: application/json
              text: |-
                {
                  "projekt_id": "{{ _.project_id }}",
                  "statisztika_nev": "Teszt Métér",
                  "ertek": 100,
                  "pontszam": 0
                }
            headers:
              - name: Authorization
                value: Bearer {{ _.access_token }}
              - name: Content-Type
                value: application/json
            scripts:
              afterResponse: |-
                const body = insomnia.response.json();

                insomnia.test('201-es státusz', () => {
                  insomnia.expect(insomnia.response.code).to.equal(201);
                });

                insomnia.test('Statisztika létrehozva', () => {
                  insomnia.expect(body).to.have.property('success', true);
                  insomnia.expect(body.data).to.have.property('statistics');
                  insomnia.expect(body.data.statistics).to.have.property('id');
                });

                if (body.success && body.data && body.data.statistics) {
                  insomnia.environment.set('stat_id', body.data.statistics.id);
                }
            settings:
              renderRequestBody: true
              encodeUrl: true
              followRedirects: global
              cookies:
                send: true
                store: true
              rebuildPath: true
      - name: Tasks
        meta:
          id: fld_f5226c89f295422588fd37121ec9119e
          created: 1771932755623
          modified: 1772144534142
          sortKey: -1771932755623
          description: Task management endpoints
        children:
          - url: "{{ _.base_url }}/api/project/feladat/{{ _.task_id }}"
            name: Update Task
            meta:
              id: req_56b93ee134a247f3ae679f50ead7063a
              created: 1771932755619
              modified: 1772131885199
              isPrivate: false
              description: ""
              sortKey: -1771932755619
            method: PUT
            body:
              mimeType: application/json
              text: |-
                {
                  "feladat_nev": "Új feladat név",
                  "statusz": "befejezett",
                  "prioritas": "alacsony"
                }
            headers:
              - name: Authorization
                value: Bearer {{ _.access_token }}
              - name: Content-Type
                value: application/json
            scripts:
              afterResponse: >-
                const body = insomnia.response.json();


                insomnia.test('200-as státusz', () => {
                  insomnia.expect(insomnia.response.code).to.equal(200);
                });


                insomnia.test('Feladat sikeresen frissítve', () => {
                  insomnia.expect(body).to.have.property('success', true);
                  insomnia.expect(body.data.task.feladat_nev).to.equal('Új feladat név');
                  insomnia.expect(body.data.task.statusz).to.equal('befejezett');
                });
            settings:
              renderRequestBody: true
              encodeUrl: true
              followRedirects: global
              cookies:
                send: true
                store: true
              rebuildPath: true
          - url: "{{ _.base_url }}/api/project/feladatok?projekt_id={{ _.project_id }}"
            name: Get All Tasks
            meta:
              id: req_d51d5ac0425a48b7afb504a94a5dc118
              created: 1771932755620
              modified: 1771932755620
              isPrivate: false
              description: ""
              sortKey: -1771932755620
            method: GET
            headers:
              - name: Authorization
                value: Bearer {{ _.access_token }}
            scripts:
              afterResponse: >-
                const body = insomnia.response.json();


                insomnia.test('200-as státusz', () => {
                  insomnia.expect(insomnia.response.code).to.equal(200);
                });


                insomnia.test('Feladatok listája visszakülve', () => {
                  insomnia.expect(body).to.have.property('success', true);
                  insomnia.expect(body.data).to.have.property('tasks');
                  insomnia.expect(body.data.tasks).to.be.an('array');
                });


                if (body.data.tasks && body.data.tasks.length > 0) {
                  insomnia.test('Feladat tartalmazza a kötelező mezőket', () => {
                    const task = body.data.tasks[0];
                    insomnia.expect(task).to.have.property('id');
                    insomnia.expect(task).to.have.property('feladat_nev');
                  });
                }
            settings:
              renderRequestBody: true
              encodeUrl: true
              followRedirects: global
              cookies:
                send: true
                store: true
              rebuildPath: true
          - url: "{{ _.base_url }}/api/project/feladat?projekt_id={{ _.project_id }}"
            name: Get Single Task
            meta:
              id: req_57b611adfbf34da98136f040ff0fb4dc
              created: 1771932755621
              modified: 1771932755621
              isPrivate: false
              description: ""
              sortKey: -1771932755621
            method: GET
            headers:
              - name: Authorization
                value: Bearer {{ _.access_token }}
            scripts:
              afterResponse: |-
                const body = insomnia.response.json();

                insomnia.test('200-as státusz', () => {
                  insomnia.expect(insomnia.response.code).to.equal(200);
                });

                insomnia.test('Feladat adatai visszakülve', () => {
                  insomnia.expect(body).to.have.property('success', true);
                  insomnia.expect(body.data).to.be.an('array');
                });
            settings:
              renderRequestBody: true
              encodeUrl: true
              followRedirects: global
              cookies:
                send: true
                store: true
              rebuildPath: true
          - url: "{{ _.base_url }}/api/project/ujFeladat"
            name: Create Task
            meta:
              id: req_aff4837683e5468e91799474e3cded8f
              created: 1771932755622
              modified: 1772132088990
              isPrivate: false
              description: ""
              sortKey: -1771932755622
            method: POST
            body:
              mimeType: application/json
              text: |-
                {
                  "feladat_nev": "Teszt Feladat {{ _.timestamp }}",
                  "feladat_leiras": "Feladat leírás teszteléshez",
                  "projekt_id": "{{ _.project_id }}",
                  "prioritas": "magas",
                  "statusz": "folyamatban",
                  "hatarido": "2026-06-30"
                }
            headers:
              - name: Authorization
                value: Bearer {{ _.access_token }}
              - name: Content-Type
                value: application/json
            scripts:
              preRequest: insomnia.environment.set('timestamp', Date.now().toString());
              afterResponse: |-
                const body = insomnia.response.json();

                insomnia.test('201-es státusz', () => {
                  insomnia.expect(insomnia.response.code).to.equal(201);
                });

                insomnia.test('Feladat sikeresen létrehozva', () => {
                  insomnia.expect(body).to.have.property('success', true);
                  insomnia.expect(body.data).to.have.property('task');
                  insomnia.expect(body.data.task).to.have.property('id');
                  insomnia.expect(body.data.task.prioritas).to.equal('magas');
                });

                if (body.success && body.data && body.data.task) {
                  insomnia.environment.set('task_id', body.data.task.id);
                }
            settings:
              renderRequestBody: true
              encodeUrl: true
              followRedirects: global
              cookies:
                send: true
                store: true
              rebuildPath: true
          - name: Task Comments
            meta:
              id: fld_3b0a4cac53e942aa9a306665d17d7f9e
              created: 1771932755618
              modified: 1772144534142
              sortKey: -1771932755618
              description: Task comment endpoints
            children:
              - url: "{{ _.base_url }}/api/project/feladatKomment/{{ _.comment_id }}"
                name: Update Task Comment
                meta:
                  id: req_771d13bc7eb0408cb6eb8207da658c9e
                  created: 1771932755615
                  modified: 1771932755615
                  isPrivate: false
                  description: ""
                  sortKey: -1771932755615
                method: PUT
                body:
                  mimeType: application/json
                  text: |-
                    {
                      "komment_szoveg": "Frissített komment szöveg"
                    }
                headers:
                  - name: Authorization
                    value: Bearer {{ _.access_token }}
                  - name: Content-Type
                    value: application/json
                scripts:
                  afterResponse: >-
                    const body = insomnia.response.json();


                    insomnia.test('200-as státusz', () => {
                      insomnia.expect(insomnia.response.code).to.equal(200);
                    });


                    insomnia.test('Komment frissítve', () => {
                      insomnia.expect(body).to.have.property('success', true);
                      insomnia.expect(body.data.comment.komment_szoveg).to.equal('Frissített komment szöveg');
                    });
                settings:
                  renderRequestBody: true
                  encodeUrl: true
                  followRedirects: global
                  cookies:
                    send: true
                    store: true
                  rebuildPath: true
              - url: "{{ _.base_url }}/api/project/feladatKommentek/{{ _.task_id }}"
                name: Get Task Comments
                meta:
                  id: req_336e5ba84240416ca41ddb9564ce85fa
                  created: 1771932755616
                  modified: 1771932755616
                  isPrivate: false
                  description: ""
                  sortKey: -1771932755616
                method: GET
                headers:
                  - name: Authorization
                    value: Bearer {{ _.access_token }}
                scripts:
                  afterResponse: |-
                    const body = insomnia.response.json();

                    insomnia.test('200-as státusz', () => {
                      insomnia.expect(insomnia.response.code).to.equal(200);
                    });

                    insomnia.test('Kommentek listája visszakülve', () => {
                      insomnia.expect(body).to.have.property('success', true);
                      insomnia.expect(body.data).to.have.property('comments');
                      insomnia.expect(body.data.comments).to.be.an('array');
                    });
                settings:
                  renderRequestBody: true
                  encodeUrl: true
                  followRedirects: global
                  cookies:
                    send: true
                    store: true
                  rebuildPath: true
              - url: "{{ _.base_url }}/api/project/ujFeladatKomment"
                name: Create Task Comment
                meta:
                  id: req_4f1a7a7430f64b97835ec959538550a0
                  created: 1771932755617
                  modified: 1772132405726
                  isPrivate: false
                  description: ""
                  sortKey: -1771932755617
                method: POST
                body:
                  mimeType: application/json
                  text: |-
                    {
                      "feladat_id": "{{ _.task_id }}",
                      "komment_szoveg": "Ez egy teszt komment a feladathoz"
                    }
                headers:
                  - name: Authorization
                    value: Bearer {{ _.access_token }}
                  - name: Content-Type
                    value: application/json
                scripts:
                  afterResponse: >-
                    const body = insomnia.response.json();


                    insomnia.test('201-es státusz', () => {
                      insomnia.expect(insomnia.response.code).to.equal(201);
                    });


                    insomnia.test('Komment létrehozva', () => {
                      insomnia.expect(body).to.have.property('success', true);
                      insomnia.expect(body.data).to.have.property('comment');
                      insomnia.expect(body.data.comment).to.have.property('id');
                      insomnia.expect(body.data.comment).to.have.property('komment_szoveg');
                    });


                    if (body.success && body.data && body.data.comment) {
                      insomnia.environment.set('comment_id', body.data.comment.id);
                    }
                settings:
                  renderRequestBody: true
                  encodeUrl: true
                  followRedirects: global
                  cookies:
                    send: true
                    store: true
                  rebuildPath: true
      - name: Project Members
        meta:
          id: fld_e5f22cf91f574e79a7fe59c6db70076b
          created: 1771932755629
          modified: 1772144533707
          sortKey: -1771932755629
          description: Project member management
        children:
          - url: "{{ _.base_url }}/api/project/ujProjektTag"
            name: Add Project Member
            meta:
              id: req_d6a656aec0e64bee909a904e4ebd9031
              created: 1771932755626
              modified: 1771932755626
              isPrivate: false
              description: ""
              sortKey: -1771932755626
            method: POST
            body:
              mimeType: application/json
              text: |-
                {
                  "projekt_id": "{{ _.project_id }}"
                }
            headers:
              - name: Authorization
                value: Bearer {{ _.access_token }}
              - name: Content-Type
                value: application/json
            scripts:
              afterResponse: >-
                const body = insomnia.response.json();


                insomnia.test('201-es státusz', () => {
                  insomnia.expect(insomnia.response.code).to.equal(201);
                });


                insomnia.test('Projekt tag hozzáadva', () => {
                  insomnia.expect(body).to.have.property('success', true);
                  insomnia.expect(body.data).to.have.property('projekttag');
                  insomnia.expect(body.data.projekttag).to.have.property('projekt_id');
                  insomnia.expect(body.data.projekttag).to.have.property('felhasznalo_id');
                });
            settings:
              renderRequestBody: true
              encodeUrl: true
              followRedirects: global
              cookies:
                send: true
                store: true
              rebuildPath: true
          - url: "{{ _.base_url }}/api/project/projektTagok?projekt_id={{ _.project_id }}"
            name: Get All Project Members
            meta:
              id: req_18f160f175cd421c9c62f1ef7092ef68
              created: 1771932755627
              modified: 1771932755627
              isPrivate: false
              description: ""
              sortKey: -1771932755627
            method: GET
            headers:
              - name: Authorization
                value: Bearer {{ _.access_token }}
            scripts:
              afterResponse: |-
                const body = insomnia.response.json();

                insomnia.test('200-as státusz', () => {
                  insomnia.expect(insomnia.response.code).to.equal(200);
                });

                insomnia.test('Válasz tartalmazza a tagok listáját', () => {
                  insomnia.expect(body).to.have.property('success', true);
                  insomnia.expect(body.data).to.be.an('array');
                });

                if (body.data && body.data.length > 0) {
                  insomnia.environment.set('projekt_tag_id', body.data[0].id);
                }
            settings:
              renderRequestBody: true
              encodeUrl: true
              followRedirects: global
              cookies:
                send: true
                store: true
              rebuildPath: true
          - url: "{{ _.base_url }}/api/project/projektTag?projekt_id={{ _.project_id }}"
            name: Get Project Tag (Member)
            meta:
              id: req_461a61feccc9481f96648ba6729ebb09
              created: 1771932755628
              modified: 1771932755628
              isPrivate: false
              description: ""
              sortKey: -1771932755628
            method: GET
            headers:
              - name: Authorization
                value: Bearer {{ _.access_token }}
            scripts:
              afterResponse: >-
                const body = insomnia.response.json();


                insomnia.test('200-as státusz', () => {
                  insomnia.expect(insomnia.response.code).to.equal(200);
                });


                insomnia.test('Válasz tartalmazza a projekt tag adatait', () =>
                {
                  insomnia.expect(body).to.have.property('success', true);
                  insomnia.expect(body).to.have.property('data');
                });
            settings:
              renderRequestBody: true
              encodeUrl: true
              followRedirects: global
              cookies:
                send: true
                store: true
              rebuildPath: true
  - name: 1. Authentication
    meta:
      id: fld_eaef8004191f475899776d0c6a3c5000
      created: 1771932755641
      modified: 1772144533359
      sortKey: -1771932755641
      description: Authentication endpoints - Register, Login, Logout, Profile management
    children:
      - url: "{{ _.base_url }}/api/auth/logout"
        name: Logout
        meta:
          id: req_0f221f1b7bd043d586c7a67de0c22251
          created: 1771932755635
          modified: 1771932755635
          isPrivate: false
          description: ""
          sortKey: -1771932755635
        method: POST
        headers:
          - name: Authorization
            value: Bearer {{ _.access_token }}
        scripts:
          afterResponse: |-
            const body = insomnia.response.json();

            insomnia.test('200-as státusz', () => {
              insomnia.expect(insomnia.response.code).to.equal(200);
            });

            insomnia.test('Kijelentkezés sikeres', () => {
              insomnia.expect(body).to.have.property('success', true);
              insomnia.expect(body.message).to.include('kijelentkezés');
            });
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _.base_url }}/api/auth/refresh-token"
        name: Refresh Token
        meta:
          id: req_4a821a4b52a0473482f8742028cc26b5
          created: 1771932755636
          modified: 1771932755636
          isPrivate: false
          description: ""
          sortKey: -1771932755636
        method: POST
        headers:
          - name: Authorization
            value: Bearer {{ _.refresh_token }}
        scripts:
          afterResponse: >-
            const body = insomnia.response.json();


            insomnia.test('200-as státusz', () => {
              insomnia.expect(insomnia.response.code).to.equal(200);
            });


            insomnia.test('Új hozzáférési token megérkezett', () => {
              insomnia.expect(body.data).to.have.property('accessToken');
              insomnia.expect(body.data.accessToken).to.be.a('string').with.length.greaterThan(0);
            });


            if (body.success && body.data) {
              insomnia.environment.set('access_token', body.data.accessToken);
            }
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _.base_url }}/api/auth/profile"
        name: Update Profile
        meta:
          id: req_2dd012085b6142c8b1028dc36ee68379
          created: 1771932755637
          modified: 1771932755637
          isPrivate: false
          description: ""
          sortKey: -1771932755637
        method: PUT
        body:
          mimeType: application/json
          text: |-
            {
              "teljes_nev": "Frissített Teszt Felhasználó",
              "email": "updated@example.com"
            }
        headers:
          - name: Authorization
            value: Bearer {{ _.access_token }}
          - name: Content-Type
            value: application/json
        scripts:
          afterResponse: >-
            const body = insomnia.response.json();


            insomnia.test('200-as státusz', () => {
              insomnia.expect(insomnia.response.code).to.equal(200);
            });


            insomnia.test('Profil frissítve', () => {
              insomnia.expect(body.data.user.teljes_nev).to.equal('Frissített Teszt Felhasználó');
              insomnia.expect(body.data.user.email).to.equal('updated@example.com');
            });
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _.base_url }}/api/auth/profileData"
        name: Get Profile Data
        meta:
          id: req_4cb4d6ac44dd47c983157cc4eaf60ce0
          created: 1771932755638
          modified: 1772131218787
          isPrivate: false
          description: ""
          sortKey: -1771932755638
        method: GET
        headers:
          - name: Authorization
            value: Bearer {{ _.access_token }}
        scripts:
          afterResponse: >-
            const body = insomnia.response.json();


            insomnia.test('200-as státusz', () => {
              insomnia.expect(insomnia.response.code).to.equal(200);
            });


            insomnia.test('Válasz tartalmazza a felhasználói adatokat', () => {
              insomnia.expect(body.data).to.have.property('user');
              insomnia.expect(body.data.user).to.have.property('id');
              insomnia.expect(body.data.user).to.have.property('felhasznalonev');
              insomnia.expect(body.data.user).to.have.property('email');
            });


            insomnia.test('Jelszó nincs visszaküldve', () => {
              insomnia.expect(body.data.user).to.not.have.property('jelszo');
            });
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _.base_url }}/api/auth/login"
        name: Login
        meta:
          id: req_182bbf7fe5cc404185291a5e1757de2b
          created: 1771932755639
          modified: 1771932755639
          isPrivate: false
          description: ""
          sortKey: -1771932755639
        method: POST
        body:
          mimeType: application/json
          text: |-
            {
              "felhasznalonev": "{{ _.login_username }}",
              "jelszo": "{{ _.login_password }}"
            }
        headers:
          - name: Content-Type
            value: application/json
        scripts:
          afterResponse: >-
            const body = insomnia.response.json();


            insomnia.test('200-as státusz', () => {
              insomnia.expect(insomnia.response.code).to.equal(200);
            });


            insomnia.test('Válasz tartalmazza a token-eket', () => {
              insomnia.expect(body.data).to.have.property('accessToken');
              insomnia.expect(body.data).to.have.property('refreshToken');
              insomnia.expect(body.data.accessToken).to.be.a('string').with.length.greaterThan(0);
            });


            insomnia.test('Válasz tartalmazza a felhasználói adatokat', () => {
              insomnia.expect(body.data).to.have.property('user');
              insomnia.expect(body.data.user).to.have.property('id');
            });


            if (body.success && body.data) {
              insomnia.environment.set('access_token', body.data.accessToken);
              insomnia.environment.set('refresh_token', body.data.refreshToken);
              insomnia.environment.set('user_id', body.data.user.id);
            }
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _.base_url }}/api/auth/register"
        name: Register
        meta:
          id: req_e04af782f54b4abcbd67e7c540574d49
          created: 1771932755640
          modified: 1772144745186
          isPrivate: false
          description: ""
          sortKey: -1771932755640
        method: POST
        body:
          mimeType: application/json
          text: |-
            {
              "felhasznalonev": "testuser_{{ _.timestamp }}",
              "email": "test_{{ _.timestamp }}@example.com",
              "jelszo": "Test123!",
              "teljes_nev": "Teszt Felhasználó",
              "szerep_tipus": "diak"
            }
        headers:
          - name: Content-Type
            value: application/json
        scripts:
          preRequest: insomnia.environment.set('timestamp', Date.now().toString());
          afterResponse: >-
            const body = insomnia.response.json();


            insomnia.test('201-es státusz', () => {
              insomnia.expect(insomnia.response.code).to.equal(201);
            });


            insomnia.test('Válasz tartalmazza a sikereségi jelzést', () => {
              insomnia.expect(body).to.have.property('success', true);
            });


            insomnia.test('Válasz tartalmazza a felhasználói adatokat', () => {
              insomnia.expect(body.data).to.have.property('user');
              insomnia.expect(body.data.user).to.have.property('id');
              insomnia.expect(body.data.user).to.have.property('felhasznalonev');
              insomnia.expect(body.data.user).to.have.property('email');
              insomnia.expect(body.data.user).to.have.property('szerep_tipus', 'diak');
            });


            if (body.success && body.data && body.data.user) {
              insomnia.environment.set('user_id', body.data.user.id);
              insomnia.environment.set('login_username', body.data.user.felhasznalonev);
              insomnia.environment.set('login_password', 'Test123!');
            }
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
cookieJar:
  name: Default Jar
  meta:
    id: jar_d7eb010f7d40467cb1a216f9d976e872
    created: 1771932755574
    modified: 1772144535620
environments:
  name: Base Environment
  meta:
    id: env_918d7ef619a0403497190dcc3086ef57
    created: 1771932755573
    modified: 1772144535621
    isPrivate: false
  data:
    base_url: http://localhost:3000
    access_token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NDcsImZlbGhhc3puYWxvbmV2IjoidGVzdHVzZXJfMTc3MjE0NDUzMjgxMyIsImVtYWlsIjoidXBkYXRlZEBleGFtcGxlLmNvbSIsInN6ZXJlcF90aXB1cyI6ImRpYWsiLCJpYXQiOjE3NzIxNDQ1MzMsImV4cCI6MTc3MjE0NzIzM30.eNMp-RYGMk-CWAYCpEQfF0GZgG8C0vmfQIrnkh23gJ4
    refresh_token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NDcsImZlbGhhc3puYWxvbmV2IjoidGVzdHVzZXJfMTc3MjE0NDUzMjgxMyIsImlhdCI6MTc3MjE0NDUzMywiZXhwIjoxNzcyNzQ5MzMzfQ.O8xJtXrc6eaR4CmGD6x5mEtPyAkwLc66Z2SgqqS_h6k
    user_id: 47
    user_id_2: ""
    project_id: 49
    projekt_tag_id: 47
    task_id: 44
    message_id: 25
    beadas_id: 44
    file_id: ""
    stat_id: 39
    naplo_id: 43
    comment_id: 29
    login_username: testuser_1772144532813
    login_password: Test123!
    timestamp: "1772144533730"
